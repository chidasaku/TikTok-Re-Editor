<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>TikTok Re-Editor v3 マニュアル</title>
    <!-- Updated: 2026-02-11T15:45 -->
    <style>
        :root {
            --primary: #00f2ea;
            --secondary: #fe2c55;
            --dark: #121212;
            --light: #ffffff;
            --gray: #333333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
            line-height: 1.8;
            color: var(--dark);
            background: #f5f5f5;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--light);
            padding: 60px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 3px solid var(--primary);
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .header .subtitle {
            font-size: 1.2em;
            color: #666;
        }

        h2 {
            font-size: 1.6em;
            color: var(--dark);
            margin: 50px 0 25px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h2::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 30px;
            background: linear-gradient(180deg, var(--primary), var(--secondary));
            border-radius: 4px;
        }

        h3 {
            font-size: 1.3em;
            color: var(--gray);
            margin: 30px 0 15px 0;
        }

        h4 {
            font-size: 1.1em;
            color: #555;
            margin: 20px 0 10px 0;
        }

        p {
            margin: 15px 0;
            color: #444;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--primary);
        }

        .feature-card h4 {
            color: var(--dark);
            margin: 0 0 10px 0;
            font-size: 1.1em;
        }

        .feature-card p {
            margin: 0;
            font-size: 0.95em;
            color: #666;
        }

        .step-container {
            margin: 30px 0;
        }

        .step {
            display: flex;
            gap: 20px;
            margin: 25px 0;
            padding: 25px;
            background: #fafafa;
            border-radius: 15px;
            border: 1px solid #eee;
        }

        .step-number {
            flex-shrink: 0;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3em;
        }

        .step-content {
            flex: 1;
            overflow-wrap: break-word;
            word-break: break-all;
            min-width: 0;
        }

        .step-content h4 {
            margin: 0 0 10px 0;
            color: var(--dark);
        }

        .step-content ol, .step-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .step-content li {
            margin: 8px 0;
            color: #555;
        }

        .note {
            background: linear-gradient(135deg, #fff3cd, #ffeeba);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
        }

        .note-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }

        .important {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--secondary);
        }

        .important-title {
            font-weight: bold;
            color: #721c24;
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }

        th {
            background: linear-gradient(135deg, var(--dark), #2a2a2a);
            color: white;
            padding: 15px;
            text-align: left;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        tr:hover {
            background: #e9ecef;
        }

        code {
            background: #2d2d2d;
            color: var(--primary);
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .troubleshoot {
            margin: 20px 0;
        }

        .troubleshoot-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #6c757d;
        }

        .troubleshoot-item h4 {
            color: var(--dark);
            margin: 0 0 10px 0;
        }

        .troubleshoot-item ul {
            margin: 0;
            padding-left: 20px;
        }

        .version-history {
            margin: 30px 0;
        }

        .version {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .version h4 {
            color: var(--dark);
            margin: 0 0 10px 0;
        }

        .version ul {
            margin: 0;
            padding-left: 20px;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #eee;
            color: #999;
            font-size: 0.9em;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
                padding: 30px;
            }
            .step {
                break-inside: avoid;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px;
            }
            .feature-grid {
                grid-template-columns: 1fr;
            }
            .step {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>TikTok Re-Editor v3</h1>
            <p class="subtitle">透過動画自動生成アプリケーション マニュアル</p>
        </div>

        <h2>このアプリでできること</h2>

        <div class="feature-grid">
            <div class="feature-card">
                <h4>1. テキストから透過動画を自動生成</h4>
                <p>テキストを入力するだけで、音声付きの透過動画を自動生成。背景が透過なので、Premiere Proなどで好きな背景と合成できます。</p>
            </div>
            <div class="feature-card">
                <h4>2. AIによる読み間違い防止</h4>
                <p>漢字をひらがなに変換してから音声生成。VOICEVOXの読み間違いを防止し、正確な発音を実現します。</p>
            </div>
            <div class="feature-card">
                <h4>3. 動画の文字起こしから自動生成</h4>
                <p>既存の動画をアップロードするだけで文字起こし。自動でテキスト整形→音声生成→動画作成まで完了。</p>
            </div>
            <div class="feature-card">
                <h4>4. 音声アップロードで字幕付き動画生成</h4>
                <p>外部TTSで生成した音声をアップロード。単語レベルのタイムスタンプで音声と字幕がピッタリ同期した動画を生成。</p>
            </div>
            <div class="feature-card">
                <h4>5. SNS投稿用コンテンツも自動生成</h4>
                <p>タイトル案、紹介文案、ハッシュタグを自動提案。そのままSNSに投稿できます。</p>
            </div>
        </div>

        <h2>必要な環境</h2>

        <h3>ソフトウェア</h3>
        <table>
            <tr>
                <th>ソフトウェア</th>
                <th>用途</th>
                <th>ダウンロード</th>
            </tr>
            <tr>
                <td><strong>Python 3.8以上</strong></td>
                <td>アプリ実行</td>
                <td>https://www.python.org/</td>
            </tr>
            <tr>
                <td><strong>FFmpeg</strong></td>
                <td>動画生成</td>
                <td>https://ffmpeg.org/</td>
            </tr>
            <tr>
                <td><strong>VOICEVOX</strong></td>
                <td>音声生成（テキスト読み上げ）</td>
                <td><a href="https://voicevox.hiroshiba.jp/" target="_blank">https://voicevox.hiroshiba.jp/</a></td>
            </tr>
        </table>

        <div class="note">
            <div class="note-title">ポイント</div>
            Python・FFmpegはインストールスクリプトの実行時に自動でインストールされるため、手動でのインストールは不要です。
        </div>

        <h3>VOICEVOXのインストール</h3>
        <p>VOICEVOXは、テキストから音声を生成するための無料ソフトです。以下の手順でインストールしてください。</p>
        <ol>
            <li><a href="https://voicevox.hiroshiba.jp/" target="_blank">VOICEVOXダウンロードページ</a>にアクセスします</li>
            <li>お使いのOSに合わせてインストーラーをダウンロードします
                <ul>
                    <li><strong>Windows</strong>: ダウンロードしたインストーラー（.exe）を実行し、画面の指示に従ってインストール</li>
                    <li><strong>Mac</strong>: ダウンロードしたファイル（.dmg）を開き、VOICEVOXをアプリケーションフォルダにドラッグ&ドロップ</li>
                </ul>
            </li>
            <li>インストール完了後、VOICEVOXを起動して正常に動作することを確認してください</li>
        </ol>

        <h3>APIキー</h3>
        <table>
            <tr>
                <th>API</th>
                <th>用途</th>
                <th>取得先</th>
                <th>無料枠</th>
            </tr>
            <tr>
                <td><strong>Gladia API</strong></td>
                <td>文字起こし・タイムスタンプ</td>
                <td><a href="https://www.gladia.io/" target="_blank">https://www.gladia.io/</a></td>
                <td>10時間/月</td>
            </tr>
            <tr>
                <td><strong>Gemini API</strong></td>
                <td>テキスト整形・SNS生成</td>
                <td><a href="https://aistudio.google.com/apikey" target="_blank">https://aistudio.google.com/apikey</a></td>
                <td>無料</td>
            </tr>
        </table>

        <h2>インストール（ローカル版）</h2>

        <p>ローカル版をお使いの場合は、以下の手順でセットアップを行ってください。<br>
        ZIPファイルをダウンロードして展開するだけで、Python・FFmpegも自動でインストールされます。</p>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>ZIPファイルをダウンロード</h4>
                    <p>以下のリンクから、アプリのZIPファイルをダウンロードしてください。</p>
                    <p><strong>ダウンロードリンク</strong>: <a href="https://pjp6vm1896tv.jp.larksuite.com/drive/folder/HdEMfEuG0lDHOcdH53MjdJU9pze" target="_blank">https://pjp6vm1896tv.jp.larksuite.com/drive/folder/HdEMfEuG0lDHOcdH53MjdJU9pze</a></p>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        このZIPファイルには、アプリ本体と自動セットアップスクリプトが含まれています。Python・FFmpegはインストールスクリプト（Windows: <code>install.bat</code> / Mac: <code>install.command</code>）の実行時に自動でインストールされます。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>ZIPファイルを展開する</h4>
                    <h4 style="font-size: 1em; margin: 15px 0 8px 0;">▼ Windowsの場合</h4>
                    <ol>
                        <li>ダウンロードした <code>TikTok-Re-Editor-v3.zip</code> を<strong>右クリック</strong>します</li>
                        <li><strong>「すべて展開」</strong>を選択します</li>
                        <li>お好きな場所を指定して展開してください（例: デスクトップなど）</li>
                    </ol>
                    <div class="important">
                        <div class="important-title">ご注意</div>
                        ZIPファイルをダブルクリックして中身を直接開くのではなく、必ず<strong>「すべて展開」</strong>してからご利用ください。展開せずに実行するとエラーになる場合があります。
                    </div>
                    <h4 style="font-size: 1em; margin: 15px 0 8px 0;">▼ Macの場合</h4>
                    <ol>
                        <li>ダウンロードした <code>TikTok-Re-Editor-v3.zip</code> を<strong>ダブルクリック</strong>します</li>
                        <li>自動的にフォルダが展開されます</li>
                        <li>展開されたフォルダをお好きな場所に移動してください（例: デスクトップなど）</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>インストールスクリプトを実行する</h4>
                    <h4 style="font-size: 1em; margin: 15px 0 8px 0;">▼ Windowsの場合</h4>
                    <p>展開したフォルダの中にある <code>install.bat</code> をダブルクリックしてください。</p>
                    <p>以下が<strong>自動的に</strong>行われます（インターネット接続が必要です）:</p>
                    <ol>
                        <li><strong>Python</strong> のダウンロードとセットアップ</li>
                        <li><strong>FFmpeg</strong> のダウンロードとセットアップ</li>
                        <li><strong>必要なパッケージ</strong>のインストール</li>
                    </ol>
                    <p>「セットアップ完了！」と表示されたら完了です。</p>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        <ul>
                            <li>初回のみ数分かかります（FFmpegのダウンロードに時間がかかる場合があります）</li>
                            <li>2回目以降は、すでにセットアップ済みの項目はスキップされます</li>
                            <li>途中で「WindowsによってPCが保護されました」と表示された場合は、「詳細情報」→「実行」をクリックしてください</li>
                        </ul>
                    </div>
                    <h4 style="font-size: 1em; margin: 15px 0 8px 0;">▼ Macの場合</h4>
                    <p>展開したフォルダの中にある <code>install.command</code> をダブルクリックしてください。</p>
                    <p>以下が<strong>自動的に</strong>行われます（インターネット接続が必要です）:</p>
                    <ol>
                        <li><strong>Homebrew</strong> のインストール（未インストールの場合）</li>
                        <li><strong>Python・FFmpeg</strong> のインストール（Homebrew経由）</li>
                        <li><strong>必要なパッケージ</strong>のインストール</li>
                    </ol>
                    <p>「インストール完了！」と表示されたら完了です。</p>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        <ul>
                            <li>初回実行時に「"install.command"は開発元が未確認のため開けません」と表示された場合は、<strong>右クリック → 「開く」</strong>を選択してください</li>
                            <li>Homebrewの初回インストールには数分かかる場合があります</li>
                            <li>途中でMacのパスワード入力を求められる場合があります</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>アプリを起動する</h4>
                    <ol>
                        <li>展開したフォルダの中にある <code>start.bat</code>（Windows）または <code>start.command</code>（Mac）を<strong>ダブルクリック</strong>します</li>
                        <li>自動的にブラウザが開き、アプリが表示されます</li>
                    </ol>
                </div>
            </div>
        </div>

        <h2>Web版のはじめ方（ログイン・アカウント認証）</h2>

        <p>Web版をご利用いただくには、Googleアカウントによるログインとアカウント登録が必要です。<br>
        以下の手順に沿って、簡単にご利用を開始できます。</p>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>アプリにアクセス</h4>
                    <p>以下のURLにアクセスしてください。</p>
                    <p><strong>アプリURL</strong>: <a href="https://tiktok-re-editor-nlbqc9ggejy5vmr47kzrj8.streamlit.app/" target="_blank">https://tiktok-re-editor-nlbqc9ggejy5vmr47kzrj8.streamlit.app/</a></p>
                    <p>アクセスすると、ログイン画面が表示されます。画面中央に<strong>「TikTok Re-Editor v3」</strong>のタイトルと<strong>「Googleでログイン」</strong>ボタンが表示されます。</p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Googleアカウントでログイン</h4>
                    <ol>
                        <li>画面中央の<strong>「🔐 Googleでログイン」</strong>ボタンをクリックします</li>
                        <li>Googleのログイン画面が表示されますので、お使いのGoogleアカウントでログインしてください</li>
                        <li>ログインが完了すると、自動的にアプリに戻ります</li>
                    </ol>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        普段お使いのGoogleアカウント（Gmail等）でそのままログインできます。新しくアカウントを作成する必要はありません。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>新規登録（初回のみ）</h4>
                    <p>初めてログインされた方は、<strong>「新規登録」</strong>フォームが表示されます。以下の項目をご入力ください。</p>
                    <ol>
                        <li><strong>本名</strong>を入力します（管理者のみ確認できます。他のユーザーには表示されません）</li>
                        <li><strong>ニックネーム</strong>を入力します（アプリ内で表示される名前です）</li>
                        <li><strong>利用規約</strong>の内容をお読みいただき、「利用規約に同意する」にチェックを入れます</li>
                        <li><strong>「登録申請」</strong>ボタンをクリックします</li>
                    </ol>
                    <div class="important">
                        <div class="important-title">ご注意</div>
                        本名・ニックネームの両方が必須です。利用規約への同意がないと登録できません。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>承認を待つ</h4>
                    <p>登録申請が完了すると、<strong>「⏳ 承認待ち」</strong>画面が表示されます。</p>
                    <ul>
                        <li>管理者がアカウントを確認し、承認するまでお待ちください</li>
                        <li><strong>「🔄 ステータスを確認」</strong>ボタンをクリックすると、承認状況を更新できます</li>
                        <li>承認されると、次回ページを開いた際にアプリが利用できるようになります</li>
                    </ul>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        通常、管理者による承認は短時間で行われます。しばらくお待ちいただいた後、「ステータスを確認」ボタンを押してみてください。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>ログイン完了・アプリ利用開始</h4>
                    <p>承認が完了すると、アプリのメイン画面にアクセスできます。</p>
                    <ul>
                        <li>画面上部に<strong>「👤 ニックネーム」</strong>のユーザーメニューが表示されます</li>
                        <li>クリックすると、メールアドレス・ログイン回数の確認やログアウトができます</li>
                        <li>2回目以降のログインでは、登録手続きは不要です。Googleログインだけでアプリをご利用いただけます</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>Web版の使い方（かんたんガイド）</h2>

        <p>Web版では、ソフトウェアのインストールは不要です。ブラウザだけで動画が作成できます。<br>
        ログイン後、以下の流れで操作を進めてください。</p>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>APIキーを設定する</h4>
                    <p>ログイン後、画面上部に<strong>「APIキー設定」</strong>セクションが表示されます。</p>
                    <ol>
                        <li><strong>Gladia API Key</strong>（左側）: 文字起こし・タイムスタンプ取得に必要です
                            <br>→ <a href="https://www.gladia.io/" target="_blank">https://www.gladia.io/</a> から無料で取得できます（毎月10時間分無料）</li>
                        <li><strong>Gemini API Key</strong>（右側）: テキスト整形・SNS生成に必要です
                            <br>→ <a href="https://aistudio.google.com/apikey" target="_blank">https://aistudio.google.com/apikey</a> から無料で取得できます</li>
                    </ol>
                    <div class="important">
                        <div class="important-title">ご注意</div>
                        APIキーはブラウザを閉じると消えます。メモ帳などに保存しておくと、次回の入力がスムーズです。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>入力ソースを選択する</h4>
                    <p><strong>「1. 入力ソース選択」</strong>セクションで、4つのタブから入力方法を選びます。</p>
                    <table>
                        <tr>
                            <th>タブ名</th>
                            <th>使い方</th>
                            <th>必要なAPI</th>
                        </tr>
                        <tr>
                            <td><strong>動画から生成</strong></td>
                            <td>動画ファイルをアップロードして自動文字起こし</td>
                            <td>Gladia + Gemini</td>
                        </tr>
                        <tr>
                            <td><strong>ファイルから生成</strong></td>
                            <td>.txtファイルをアップロードして読み込み</td>
                            <td>なし（テキスト整形にGemini）</td>
                        </tr>
                        <tr>
                            <td><strong>テキスト入力</strong></td>
                            <td>テキストを直接貼り付けて入力</td>
                            <td>なし（テキスト整形にGemini）</td>
                        </tr>
                        <tr>
                            <td><strong>音声アップロード</strong></td>
                            <td>音声ファイルをアップロードして自動で文字起こし＆動画生成</td>
                            <td>Gladia + Gemini</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>テキストを確認・編集する</h4>
                    <p>処理が完了すると、画面に<strong>2カラムのテキスト編集エリア</strong>が表示されます。</p>
                    <ul>
                        <li><strong>左側「整形済みテキスト」</strong>: 動画に表示されるテキストです。内容を自由に編集できます</li>
                        <li><strong>右側「ひらがな」</strong>: 音声生成に使用されるひらがなテキストです。「ひらがなに変換」ボタンで生成できます</li>
                        <li>テキストの下にある<strong>「DOWNLOAD TEXT」</strong>で、整形済みテキストをダウンロードできます</li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>VOICEVOXで音声データを作成する</h4>
                    <p>ステップ③で<strong>「DOWNLOAD TEXT」</strong>からダウンロードした整形済みテキストを使って、VOICEVOXで音声を生成します。</p>
                    <ol>
                        <li><strong>VOICEVOXアプリを起動</strong>します</li>
                        <li>ダウンロードした整形済みテキストの内容をVOICEVOXに貼り付けます</li>
                        <li>お好みのキャラクター（話者）を選択します</li>
                        <li>読み上げ内容を確認し、必要に応じてアクセントや読みを調整します</li>
                        <li><strong>「ファイル」→「音声をつなげて書き出し」</strong>を選択し、1つのWAVファイルとして保存します</li>
                    </ol>
                    <div class="important">
                        <div class="note-title">重要</div>
                        「ひらがな」テキストではなく、<strong>整形済みテキスト（動画表示用）</strong>を使用してください。VOICEVOXが自動で読みを判定します。
                    </div>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        生成した音声ファイルは、次のステップで「音声アップロード」機能を使ってアプリに読み込ませることができます。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>動画を生成してダウンロードする</h4>
                    <ol>
                        <li><strong>「GENERATE VIDEO」</strong>ボタンをクリックします</li>
                        <li>進捗バーが100%になるまでお待ちください</li>
                        <li>iPhone風フレームで動画のプレビューが表示されます</li>
                        <li><strong>「DOWNLOAD VIDEO (.mov)」</strong>をクリックして透過動画をダウンロードします</li>
                    </ol>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        <ul>
                            <li>プレビューはチェッカー背景で表示されますが、実際にダウンロードされる動画は背景が透過です</li>
                            <li>ダウンロードした.movファイルはPremiere Proなどで背景動画と合成できます</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <h2>使い方（詳細手順）</h2>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>準備</h4>
                    <ol>
                        <li><strong>アプリを起動</strong> - Mac: <code>start.command</code> / Windows: <code>start.bat</code> をダブルクリック</li>
                        <li><strong>APIキーを設定</strong>（初回のみ）- 画面上部の「API設定」からGladia・Gemini APIキーを入力</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>テキストを入力</h4>
                    <p>4つの方法から選択:</p>
                    <ul>
                        <li><strong>方法A: 動画から</strong> - 「動画から生成」タブで動画をアップロード（Gladia API必要）</li>
                        <li><strong>方法B: ファイルから</strong> - 「ファイルから生成」タブで.txtファイルをアップロード</li>
                        <li><strong>方法C: テキスト入力</strong> - 「テキスト入力」タブでテキストを貼り付け</li>
                        <li><strong>方法D: 音声アップロード</strong> - 「音声アップロード」タブで外部TTSの音声をアップロード → 自動で文字起こし＆整形 → 動画生成</li>
                    </ul>
                    <p>「START」をクリックして処理開始（音声アップロードは自動処理）</p>
                    <div class="note">
                        <div class="note-title">音声アップロードのポイント</div>
                        <ul>
                            <li>単語レベルのタイムスタンプで音声と字幕がピッタリ同期します</li>
                            <li>外部TTSで生成した音声をそのまま使用できます</li>
                            <li>テキスト編集画面で、すでに整形済みのテキストをコピペしてもOK</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>動画を生成</h4>
                    <ol>
                        <li><strong>「GENERATE VIDEO」をクリック</strong></li>
                        <li>進捗バーが100%になるまで待つ</li>
                        <li>iPhone風フレームでプレビューを確認</li>
                        <li><strong>「DOWNLOAD VIDEO (.mov)」で透過動画をダウンロード</strong></li>
                    </ol>
                    <div class="note">
                        <div class="note-title">ポイント</div>
                        ダウンロードされるのは透過動画（MOV形式）です。プレビューはチェッカー背景ですが、実際は透過です。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>テキストを修正して再生成（任意）</h4>
                    <p>動画生成後にテキストを修正したい場合:</p>
                    <ol>
                        <li>左側のテキストを編集</li>
                        <li>「GENERATE VIDEO」を再度クリック</li>
                        <li>修正後のテキストで動画が再生成されます</li>
                    </ol>
                    <div class="important">
                        <div class="important-title">注意</div>
                        行数を変更した場合は、音声も再生成が必要です。
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>SNSコンテンツを生成（任意）</h4>
                    <ol>
                        <li>「GENERATE SNS」をクリック</li>
                        <li>タイトル案・紹介文案・ハッシュタグが生成される</li>
                        <li>必要に応じて編集</li>
                        <li>「DOWNLOAD ALL TEXT」で一括ダウンロード</li>
                    </ol>
                </div>
            </div>
        </div>

        <h2>出力ファイル</h2>
        <table>
            <tr>
                <th>ファイル</th>
                <th>形式</th>
                <th>説明</th>
            </tr>
            <tr>
                <td><code>ファイル名.txt</code></td>
                <td>TEXT</td>
                <td>整形済みテキスト</td>
            </tr>
            <tr>
                <td><code>ファイル名.wav</code></td>
                <td>WAV</td>
                <td>音声ファイル</td>
            </tr>
            <tr>
                <td><code>ファイル名.mov</code></td>
                <td>MOV (ProRes 4444)</td>
                <td>透過動画</td>
            </tr>
            <tr>
                <td><code>ファイル名_full.txt</code></td>
                <td>TEXT</td>
                <td>テキスト + SNSコンテンツ</td>
            </tr>
        </table>

        <h2>動画の使い方（Premiere Pro）</h2>
        <ol>
            <li>生成したMOVファイルをPremiere Proに読み込み</li>
            <li>タイムラインに配置</li>
            <li>背景動画の上にレイヤーとして重ねる</li>
            <li>透過部分から背景が見える</li>
        </ol>


        <h2>トラブルシューティング</h2>

        <div class="troubleshoot">
            <div class="troubleshoot-item">
                <h4>動画が生成されない</h4>
                <p>FFmpegが正しくインストールされていない可能性があります。以下の手順で確認してください。</p>
                <h4 style="font-size: 0.95em; margin: 10px 0 5px 0;">▼ Windowsの場合</h4>
                <ol>
                    <li>まず<strong>「install.bat」を再度実行</strong>してください。FFmpegが未インストールの場合は自動でダウンロードされます</li>
                    <li>それでも解決しない場合は、以下の手順でFFmpegの状態を確認します:
                        <ul>
                            <li>展開したフォルダの中に <code>ffmpeg</code> フォルダがあるか確認してください</li>
                            <li><code>ffmpeg</code> フォルダの中に <code>ffmpeg.exe</code> と <code>ffprobe.exe</code> の2つのファイルがあるか確認してください</li>
                            <li>ファイルが無い場合は、インターネット接続を確認してから「install.bat」を再実行してください</li>
                        </ul>
                    </li>
                    <li>上記を確認しても動画が生成されない場合は、<strong>アプリを一度閉じて「start.bat」で再起動</strong>してみてください</li>
                </ol>
                <h4 style="font-size: 0.95em; margin: 10px 0 5px 0;">▼ Macの場合</h4>
                <ol>
                    <li>ターミナルで <code>ffmpeg -version</code> を実行して、FFmpegがインストールされているか確認してください</li>
                    <li>インストールされていない場合は、<strong>「install.command」を再度実行</strong>するか、ターミナルで <code>brew install ffmpeg</code> を実行してください</li>
                    <li>上記を確認しても動画が生成されない場合は、<strong>アプリを一度閉じて「start.command」で再起動</strong>してみてください</li>
                </ol>
            </div>
            <div class="troubleshoot-item">
                <h4>テキスト修正後に動画が変わらない</h4>
                <ul>
                    <li>「GENERATE VIDEO」を再度クリックしてください</li>
                    <li>行数を変更した場合は、音声も再生成が必要です</li>
                </ul>
            </div>
            <div class="troubleshoot-item">
                <h4>文字起こし・テキスト整形ができない</h4>
                <ul>
                    <li>Gladia / Gemini APIキーが正しく入力されているか確認してください</li>
                    <li>APIキーはブラウザを閉じると消えるため、再度入力が必要です</li>
                </ul>
            </div>
            <div class="troubleshoot-item">
                <h4>「WindowsによってPCが保護されました」と表示される（Windows）</h4>
                <ul>
                    <li>「詳細情報」をクリックしてください</li>
                    <li>「実行」ボタンが表示されますので、クリックして進めてください</li>
                    <li>これはWindows標準のセキュリティ警告で、問題ありません</li>
                </ul>
            </div>
            <div class="troubleshoot-item">
                <h4>「開発元が未確認のため開けません」と表示される（Mac）</h4>
                <ul>
                    <li><code>.command</code> ファイルを<strong>右クリック</strong>して<strong>「開く」</strong>を選択してください</li>
                    <li>確認ダイアログが出たら「開く」をクリックしてください</li>
                    <li>一度開くと、次回以降はダブルクリックで実行できます</li>
                </ul>
            </div>
        </div>

        <h2>技術仕様</h2>
        <table>
            <tr>
                <th>項目</th>
                <th>仕様</th>
            </tr>
            <tr>
                <td>動画サイズ</td>
                <td>1080 x 1920 (TikTok縦型)</td>
            </tr>
            <tr>
                <td>動画形式</td>
                <td>MOV (ProRes 4444)</td>
            </tr>
            <tr>
                <td>透過</td>
                <td>アルファチャンネル対応</td>
            </tr>
            <tr>
                <td>音声形式</td>
                <td>WAV (16bit PCM)</td>
            </tr>
            <tr>
                <td>フレームレート</td>
                <td>30fps</td>
            </tr>
            <tr>
                <td>テキスト表示</td>
                <td>縦書き（中央配置）</td>
            </tr>
        </table>

        <h2>更新履歴</h2>

        <div class="version-history">
            <div class="version">
                <h4>v3.2 - Audio Upload (2025-01-29)</h4>
                <ul>
                    <li>音声アップロード機能を追加</li>
                    <li>外部TTSで生成した音声から動画を生成可能</li>
                    <li>単語レベルのタイムスタンプで音声と字幕を正確に同期</li>
                    <li>音声アップロード後、自動で文字起こし＆テキスト整形</li>
                </ul>
            </div>
            <div class="version">
                <h4>v3.1 (2025-01-23)</h4>
                <ul>
                    <li>ひらがな音声を動画生成に再利用（音声の二重生成を廃止）</li>
                    <li>テキスト修正後の動画再生成に対応</li>
                    <li>ひらがな変換の精度向上（余計なスペース・読点を追加しない）</li>
                    <li>縦書き対応文字を追加（=、+、×、÷、→など）</li>
                </ul>
            </div>
            <div class="version">
                <h4>v3.0 (2025-01-18)</h4>
                <ul>
                    <li>透過動画生成に対応</li>
                    <li>iPhone風プレビュー追加</li>
                    <li>ひらがな変換機能追加</li>
                    <li>UI改善（TikTokスタイル）</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <p>TikTok Re-Editor v3 | MIT License</p>
        </div>
    </div>
</body>
</html>
